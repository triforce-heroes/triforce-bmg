import{BufferConsumer as e}from"@triforce-heroes/triforce-core";import{parseHeader as r}from"./parsers/parseHeader.js";import{parseInfo as t}from"./parsers/parseInfo.js";export function extract(t){let n=new e(t,void 0,1),o=r(n),s=[];for(let e=0;e<o.sectionsCount;e++){let e=n.readString(4),r=n.readUnsignedInt32(),t=n.consumer(r-8);s.push([e,t.buffer])}return s}export function getEntries(r){return t(new e(r,void 0,1))}export function getStrings(e,r){let t=[],n=[],o=new Map,s=-1;for(let r of e){let[e,t]=r;e>s&&(o.set(n.length,t),n.push(e),s=e)}for(let e=0;e<n.length;e++){let s=n[e],i=(n[e+1]??r.length)-1,f=r.toString("binary",s,i);""!==f&&t.push([o.get(e),f])}return t}